{"version":3,"file":"page_load_details_panel.js","sourceRoot":"","sources":["../../../../src/plugins/org.chromium.ChromeCriticalUserInteractions/page_load_details_panel.ts"],"names":[],"mappings":";AAAA,qDAAqD;AACrD,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,kDAAkD;AAClD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;;;AAEjC,8DAAwB;AACxB,0EAGsD;AACtD,+DAAyD;AACzD,2DAAuE;AAGvE,IAAO,CAAC,GAAG,uBAAa,CAAC;AAEzB,MAAa,oBAAoB;IAIZ;IAHX,IAAI,CAAU;IAEtB,YACmB,KAAY,EAC7B,EAAU;QADO,UAAK,GAAL,KAAK,CAAO;QAG7B,IAAI,CAAC,IAAI,GAAG,IAAI,iBAAO,CAAC,IAAI,CAAC,KAAK,EAAE,mBAAmB,EAAE,EAAE,EAAE;YAC3D,kBAAkB,EAAE,CAAC,CAAC,SAAS,CAAC,qBAAqB,CAAC;YACtD,WAAW,EAAE,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC;YAClC,KAAK,EAAE,CAAC,CAAC,QAAQ,CAAC,qBAAqB,EAAE,KAAK,CAAC;YAC/C,WAAW,EAAE,CAAC,CAAC,SAAS,CAAC,QAAQ,EAAE,EAAC,UAAU,EAAE,IAAI,EAAC,CAAC;YACtD,KAAK,EAAE,CAAC,CAAC,QAAQ,CAAC,qBAAqB,EAAE,KAAK,EAAE,EAAC,UAAU,EAAE,IAAI,EAAC,CAAC;YACnE,kBAAkB,EAAE,CAAC,CAAC,SAAS,CAAC,6BAA6B,EAAE;gBAC7D,UAAU,EAAE,IAAI;aACjB,CAAC;YACF,kBAAkB,EAAE,CAAC,CAAC,SAAS,CAAC,eAAe,EAAE,EAAC,UAAU,EAAE,IAAI,EAAC,CAAC;YACpE,0BAA0B,EAAE,CAAC,CAAC,IAAI,CAAC;gBACjC,IAAI,EAAE;oBACJ,cAAc,EAAE,CAAC,CAAC,SAAS,CAAC,sBAAsB,EAAE;wBAClD,UAAU,EAAE,IAAI;qBACjB,CAAC;oBACF,eAAe,EAAE,CAAC,CAAC,SAAS,CAAC,uBAAuB,EAAE;wBACpD,UAAU,EAAE,IAAI;qBACjB,CAAC;oBACF,aAAa,EAAE,CAAC,CAAC,SAAS,CAAC,qBAAqB,EAAE;wBAChD,UAAU,EAAE,IAAI;qBACjB,CAAC;iBACH;gBACD,WAAW,EAAE,IAAI;aAClB,CAAC;YACF,eAAe,EAAE,eAAe;YAChC,iBAAiB,EAAE,CAAC,CAAC,QAAQ,CAAC,SAAS,EAAE,cAAc,CAAC;YACxD,KAAK,EAAE,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC;SACzB,CAAC,CAAC;IACL,CAAC;IAED,MAAM;QACJ,OAAO,IAAA,iBAAC,EACN,4BAAY,EACZ;YACE,KAAK,EAAE,kBAAkB;SAC1B,EACD,IAAA,iBAAC,EAAC,wBAAU,EAAE,IAAA,iBAAC,EAAC,8BAAgB,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CACvD,CAAC;IACJ,CAAC;CACF;AA9CD,oDA8CC","sourcesContent":["// Copyright (C) 2023 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport m from 'mithril';\nimport {\n  Details,\n  DetailsSchema,\n} from '../../components/widgets/sql/details/details';\nimport {DetailsShell} from '../../widgets/details_shell';\nimport {GridLayout, GridLayoutColumn} from '../../widgets/grid_layout';\nimport {TrackEventDetailsPanel} from '../../public/details_panel';\nimport {Trace} from '../../public/trace';\nimport d = DetailsSchema;\n\nexport class PageLoadDetailsPanel implements TrackEventDetailsPanel {\n  private data: Details;\n\n  constructor(\n    private readonly trace: Trace,\n    id: number,\n  ) {\n    this.data = new Details(this.trace, 'chrome_page_loads', id, {\n      'Navigation start': d.Timestamp('navigation_start_ts'),\n      'FCP event': d.Timestamp('fcp_ts'),\n      'FCP': d.Interval('navigation_start_ts', 'fcp'),\n      'LCP event': d.Timestamp('lcp_ts', {skipIfNull: true}),\n      'LCP': d.Interval('navigation_start_ts', 'lcp', {skipIfNull: true}),\n      'DOMContentLoaded': d.Timestamp('dom_content_loaded_event_ts', {\n        skipIfNull: true,\n      }),\n      'onload timestamp': d.Timestamp('load_event_ts', {skipIfNull: true}),\n      'performance.mark timings': d.Dict({\n        data: {\n          'Fully loaded': d.Timestamp('mark_fully_loaded_ts', {\n            skipIfNull: true,\n          }),\n          'Fully visible': d.Timestamp('mark_fully_visible_ts', {\n            skipIfNull: true,\n          }),\n          'Interactive': d.Timestamp('mark_interactive_ts', {\n            skipIfNull: true,\n          }),\n        },\n        skipIfEmpty: true,\n      }),\n      'Navigation ID': 'navigation_id',\n      'Browser process': d.SqlIdRef('process', 'browser_upid'),\n      'URL': d.URLValue('url'),\n    });\n  }\n\n  render() {\n    return m(\n      DetailsShell,\n      {\n        title: 'Chrome Page Load',\n      },\n      m(GridLayout, m(GridLayoutColumn, this.data.render())),\n    );\n  }\n}\n"]}