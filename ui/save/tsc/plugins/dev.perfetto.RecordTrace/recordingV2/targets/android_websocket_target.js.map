{"version":3,"file":"android_websocket_target.js","sourceRoot":"","sources":["../../../../../../src/plugins/dev.perfetto.RecordTrace/recordingV2/targets/android_websocket_target.ts"],"names":[],"mappings":";AAAA,qDAAqD;AACrD,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,kDAAkD;AAClD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;;AAEjC,oFAA4E;AAE5E,qDAA+C;AAE/C,MAAa,sBAAuB,SAAQ,8BAAa;IAE7C;IADV,YACU,YAAoB,EAC5B,YAAoB,EACpB,cAAsC;QAEtC,KAAK,CACH,IAAI,0DAA0B,CAAC,YAAY,EAAE,YAAY,CAAC,EAC1D,cAAc,CACf,CAAC;QAPM,iBAAY,GAAZ,YAAY,CAAQ;IAQ9B,CAAC;IAED,OAAO;QACL,OAAO;YACL,UAAU,EAAE,SAAS;YACrB,+DAA+D;YAC/D,eAAe,EAAE,IAAI,CAAC,eAAe;YACrC,WAAW,EAAE,IAAI,CAAC,WAAW,IAAI,EAAE;YACnC,IAAI,EAAE,IAAI,CAAC,YAAY,GAAG,YAAY;SACvC,CAAC;IACJ,CAAC;CACF;AArBD,wDAqBC","sourcesContent":["// Copyright (C) 2022 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {AdbConnectionOverWebsocket} from '../adb_connection_over_websocket';\nimport {OnTargetChangeCallback, TargetInfo} from '../recording_interfaces_v2';\nimport {AndroidTarget} from './android_target';\n\nexport class AndroidWebsocketTarget extends AndroidTarget {\n  constructor(\n    private serialNumber: string,\n    websocketUrl: string,\n    onTargetChange: OnTargetChangeCallback,\n  ) {\n    super(\n      new AdbConnectionOverWebsocket(serialNumber, websocketUrl),\n      onTargetChange,\n    );\n  }\n\n  getInfo(): TargetInfo {\n    return {\n      targetType: 'ANDROID',\n      // 'androidApiLevel' will be populated after ADB authorization.\n      androidApiLevel: this.androidApiLevel,\n      dataSources: this.dataSources || [],\n      name: this.serialNumber + ' WebSocket',\n    };\n  }\n}\n"]}