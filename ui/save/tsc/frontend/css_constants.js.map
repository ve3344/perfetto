{"version":3,"file":"css_constants.js","sourceRoot":"","sources":["../../../src/frontend/css_constants.ts"],"names":[],"mappings":";AAAA,qDAAqD;AACrD,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,kDAAkD;AAClD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;;AAkBjC,4CAoBC;AApCD,wEAAwE;AACxE,0EAA0E;AAC1E,0CAA0C;AAC/B,QAAA,iBAAiB,GAAG,GAAG,CAAC;AACxB,QAAA,aAAa,GAAG,GAAG,CAAC;AACpB,QAAA,kBAAkB,GAAG,SAAS,CAAC;AAC/B,QAAA,aAAa,GAAG,EAAE,CAAC;AACnB,QAAA,sBAAsB,GAAG,WAAW,CAAC;AACrC,QAAA,oBAAoB,GAAG,WAAW,CAAC;AACnC,QAAA,mCAAmC,GAAG,WAAW,CAAC;AAClD,QAAA,8BAA8B,GAAG,GAAG,CAAC;AACrC,QAAA,gBAAgB,GAAG,SAAS,CAAC;AAC7B,QAAA,gBAAgB,GAAG,MAAM,CAAC;AAC1B,QAAA,oBAAoB,GAAG,SAAS,CAAC;AACjC,QAAA,mBAAmB,GAAG,SAAS,CAAC;AAE3C,SAAgB,gBAAgB;IAC9B,yBAAiB,GAAG,SAAS,CAAC,qBAAqB,CAAC,IAAI,yBAAiB,CAAC;IAC1E,qBAAa,GAAG,SAAS,CAAC,iBAAiB,CAAC,IAAI,qBAAa,CAAC;IAC9D,0BAAkB,GAAG,SAAS,CAAC,sBAAsB,CAAC,IAAI,0BAAkB,CAAC;IAC7E,qBAAa,GAAG,SAAS,CAAC,iBAAiB,CAAC,IAAI,qBAAa,CAAC;IAC9D,8BAAsB;QACpB,SAAS,CAAC,0BAA0B,CAAC,IAAI,8BAAsB,CAAC;IAClE,4BAAoB;QAClB,SAAS,CAAC,wBAAwB,CAAC,IAAI,4BAAoB,CAAC;IAC9D,2CAAmC;QACjC,SAAS,CAAC,uCAAuC,CAAC;YAClD,2CAAmC,CAAC;IACtC,sCAA8B;QAC5B,SAAS,CAAC,0BAA0B,CAAC,IAAI,sCAA8B,CAAC;IAC1E,wBAAgB,GAAG,SAAS,CAAC,yBAAyB,CAAC,IAAI,wBAAgB,CAAC;IAC5E,wBAAgB,GAAG,SAAS,CAAC,yBAAyB,CAAC,IAAI,wBAAgB,CAAC;IAC5E,4BAAoB;QAClB,SAAS,CAAC,wBAAwB,CAAC,IAAI,4BAAoB,CAAC;IAC9D,2BAAmB;QACjB,SAAS,CAAC,uBAAuB,CAAC,IAAI,2BAAmB,CAAC;AAC9D,CAAC;AAED,SAAS,SAAS,CAAC,IAAY;IAC7B,IAAI,OAAO,MAAM,KAAK,WAAW;QAAE,OAAO,SAAS,CAAC;IACpD,MAAM,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;IAClC,MAAM,KAAK,GAAG,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;IACnE,8DAA8D;IAC9D,qGAAqG;IACrG,OAAO,KAAK,KAAK,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC;AAC1C,CAAC;AAED,SAAS,SAAS,CAAC,IAAY;IAC7B,MAAM,GAAG,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;IAC5B,IAAI,GAAG,KAAK,SAAS;QAAE,OAAO,SAAS,CAAC;IACxC,MAAM,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,6BAA6B,CAAC,CAAC;IACvD,IAAI,CAAC,KAAK;QAAE,MAAM,KAAK,CAAC,iCAAiC,GAAG,eAAe,CAAC,CAAC;IAC7E,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1B,CAAC","sourcesContent":["// Copyright (C) 2019 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n// This code can be used in unittests where we can't read CSS variables.\n// Also we cannot have global constructors beacause when the javascript is\n// loaded, the CSS might not be ready yet.\nexport let TRACK_SHELL_WIDTH = 100;\nexport let SIDEBAR_WIDTH = 100;\nexport let TRACK_BORDER_COLOR = '#ffc0cb';\nexport let TOPBAR_HEIGHT = 48;\nexport let SELECTION_STROKE_COLOR = '#00344596';\nexport let SELECTION_FILL_COLOR = '#8398e64d';\nexport let OVERVIEW_TIMELINE_NON_VISIBLE_COLOR = '#c8c8c8cc';\nexport let DEFAULT_DETAILS_CONTENT_HEIGHT = 308;\nexport let BACKGROUND_COLOR = '#ffffff';\nexport let FOREGROUND_COLOR = '#222';\nexport let COLLAPSED_BACKGROUND = '#ffffff';\nexport let EXPANDED_BACKGROUND = '#ffffff';\n\nexport function initCssConstants() {\n  TRACK_SHELL_WIDTH = getCssNum('--track-shell-width') ?? TRACK_SHELL_WIDTH;\n  SIDEBAR_WIDTH = getCssNum('--sidebar-width') ?? SIDEBAR_WIDTH;\n  TRACK_BORDER_COLOR = getCssStr('--track-border-color') ?? TRACK_BORDER_COLOR;\n  TOPBAR_HEIGHT = getCssNum('--topbar-height') ?? TOPBAR_HEIGHT;\n  SELECTION_STROKE_COLOR =\n    getCssStr('--selection-stroke-color') ?? SELECTION_STROKE_COLOR;\n  SELECTION_FILL_COLOR =\n    getCssStr('--selection-fill-color') ?? SELECTION_FILL_COLOR;\n  OVERVIEW_TIMELINE_NON_VISIBLE_COLOR =\n    getCssStr('--overview-timeline-non-visible-color') ??\n    OVERVIEW_TIMELINE_NON_VISIBLE_COLOR;\n  DEFAULT_DETAILS_CONTENT_HEIGHT =\n    getCssNum('--details-content-height') ?? DEFAULT_DETAILS_CONTENT_HEIGHT;\n  BACKGROUND_COLOR = getCssStr('--main-background-color') ?? BACKGROUND_COLOR;\n  FOREGROUND_COLOR = getCssStr('--main-foreground-color') ?? FOREGROUND_COLOR;\n  COLLAPSED_BACKGROUND =\n    getCssStr('--collapsed-background') ?? COLLAPSED_BACKGROUND;\n  EXPANDED_BACKGROUND =\n    getCssStr('--expanded-background') ?? EXPANDED_BACKGROUND;\n}\n\nfunction getCssStr(prop: string): string | undefined {\n  if (typeof window === 'undefined') return undefined;\n  const body = window.document.body;\n  const value = window.getComputedStyle(body).getPropertyValue(prop);\n  // Note: getPropertyValue() returns an empty string if not set\n  // https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration/getPropertyValue#return_value\n  return value === '' ? undefined : value;\n}\n\nfunction getCssNum(prop: string): number | undefined {\n  const str = getCssStr(prop);\n  if (str === undefined) return undefined;\n  const match = str.match(/^\\W*(\\d+)px(|\\!important')$/);\n  if (!match) throw Error(`Could not parse CSS property \"${str}\" as a number`);\n  return Number(match[1]);\n}\n"]}