{"version":3,"file":"home_page.js","sourceRoot":"","sources":["../../../src/frontend/home_page.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport m from 'mithril';\nimport {channelChanged, getNextChannel, setChannel} from '../core/channels';\nimport {Anchor} from '../widgets/anchor';\nimport {HotkeyGlyphs} from '../widgets/hotkey_glyphs';\nimport {PageAttrs} from '../public/page';\nimport {assetSrc} from '../base/assets';\n\nexport class Hints implements m.ClassComponent {\n  view() {\n    return m(\n      '.home-page-hints',\n      m('.tagline', 'New!'),\n      m(\n        'ul',\n        m(\n          'li',\n          'New updated ',\n          m(\n            Anchor,\n            {\n              href: 'https://perfetto.dev/docs/visualization/perfetto-ui#tabs-v2',\n            },\n            'tabs',\n          ),\n          ' are extensible and user friendly.',\n        ),\n        m(\n          'li',\n          'Use ',\n          m(HotkeyGlyphs, {hotkey: 'W'}),\n          m(HotkeyGlyphs, {hotkey: 'A'}),\n          m(HotkeyGlyphs, {hotkey: 'S'}),\n          m(HotkeyGlyphs, {hotkey: 'D'}),\n          ' to navigate the trace.',\n        ),\n        m(\n          'li',\n          'Try the ',\n          m(\n            Anchor,\n            {\n              href: 'https://perfetto.dev/docs/visualization/perfetto-ui#command-palette',\n            },\n            'command palette,',\n          ),\n          ' press ',\n          m(HotkeyGlyphs, {hotkey: '!Mod+Shift+P'}),\n          '.',\n        ),\n      ),\n    );\n  }\n}\n\nexport class HomePage implements m.ClassComponent<PageAttrs> {\n  view() {\n    return m(\n      '.page.home-page',\n      m(\n        '.home-page-center',\n        m(\n          '.home-page-title',\n          m(`img.logo[src=${assetSrc('assets/logo-3d.png')}]`),\n          'Perfetto',\n        ),\n        m(Hints),\n        m(\n          '.channel-select',\n          m('', 'Feeling adventurous? Try our bleeding edge Canary version'),\n          m('fieldset', mkChan('stable'), mkChan('canary'), m('.highlight')),\n          m(\n            `.home-page-reload${channelChanged() ? '.show' : ''}`,\n            'You need to reload the page for the changes to have effect',\n          ),\n        ),\n      ),\n      m(\n        'a.privacy',\n        {href: 'https://policies.google.com/privacy', target: '_blank'},\n        'Privacy policy',\n      ),\n    );\n  }\n}\n\nfunction mkChan(chan: string) {\n  const checked = getNextChannel() === chan ? '[checked=true]' : '';\n  return [\n    m(`input[type=radio][name=chan][id=chan_${chan}]${checked}`, {\n      onchange: () => {\n        setChannel(chan);\n      },\n    }),\n    m(`label[for=chan_${chan}]`, chan),\n  ];\n}\n"]}