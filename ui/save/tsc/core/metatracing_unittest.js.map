{"version":3,"file":"metatracing_unittest.js","sourceRoot":"","sources":["../../../src/core/metatracing_unittest.ts"],"names":[],"mappings":";AAAA,qDAAqD;AACrD,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,kDAAkD;AAClD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;AAEjC,+CAA0C;AAE1C,QAAQ,CAAC,aAAa,EAAE,GAAG,EAAE;IAC3B,IAAI,CAAC,wBAAwB,EAAE,GAAG,EAAE;QAClC,MAAM,KAAK,GAAG;YACZ,GAAG,EAAE;gBACH,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;aACf;YACD,GAAG,EAAE,EAAC,GAAG,EAAE,KAAK,EAAC;SAClB,CAAC;QACF,MAAM,CAAC,IAAA,yBAAW,EAAC,KAAK,CAAC,CAAC,CAAC,aAAa,CAAC;YACvC,YAAY,EAAE,GAAG;YACjB,YAAY,EAAE,GAAG;YACjB,YAAY,EAAE,GAAG;YACjB,SAAS,EAAE,KAAK;SACjB,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,uBAAuB,EAAE,GAAG,EAAE;QACjC,MAAM,KAAK,GAAG,GAAG,CAAC;QAClB,MAAM,CAAC,IAAA,yBAAW,EAAC,KAAK,CAAC,CAAC,CAAC,aAAa,CAAC;YACvC,EAAE,EAAE,KAAK;SACV,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,gBAAgB,EAAE,GAAG,EAAE;QAC1B,MAAM,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACxB,MAAM,CAAC,IAAA,yBAAW,EAAC,KAAK,CAAC,CAAC,CAAC,aAAa,CAAC;YACvC,KAAK,EAAE,GAAG;YACV,KAAK,EAAE,GAAG;YACV,KAAK,EAAE,GAAG;SACX,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,2BAA2B,EAAE,GAAG,EAAE;QACrC,MAAM,KAAK,GAAG,CAAC,EAAC,GAAG,EAAE,KAAK,EAAC,EAAE,EAAC,GAAG,EAAE,GAAG,EAAC,CAAC,CAAC;QACzC,MAAM,CAAC,IAAA,yBAAW,EAAC,KAAK,CAAC,CAAC,CAAC,aAAa,CAAC;YACvC,SAAS,EAAE,KAAK;YAChB,SAAS,EAAE,KAAK;SACjB,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright (C) 2023 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {flattenArgs} from './metatracing';\n\ndescribe('flattenArgs', () => {\n  test('flattens nested object', () => {\n    const value = {\n      foo: {\n        bar: [1, 2, 3],\n      },\n      baz: {baz: 'qux'},\n    };\n    expect(flattenArgs(value)).toStrictEqual({\n      'foo.bar[0]': '1',\n      'foo.bar[1]': '2',\n      'foo.bar[2]': '3',\n      'baz.baz': 'qux',\n    });\n  });\n\n  test('flattens single value', () => {\n    const value = 123;\n    expect(flattenArgs(value)).toStrictEqual({\n      '': '123',\n    });\n  });\n\n  test('flattens array', () => {\n    const value = [1, 2, 3];\n    expect(flattenArgs(value)).toStrictEqual({\n      '[0]': '1',\n      '[1]': '2',\n      '[2]': '3',\n    });\n  });\n\n  test('flattens array of objects', () => {\n    const value = [{foo: 'bar'}, {baz: 123}];\n    expect(flattenArgs(value)).toStrictEqual({\n      '[0].foo': 'bar',\n      '[1].baz': '123',\n    });\n  });\n});\n"]}