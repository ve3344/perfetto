{"version":3,"file":"perf_stats_unittest.js","sourceRoot":"","sources":["../../../src/core/perf_stats_unittest.ts"],"names":[],"mappings":";AAAA,qDAAqD;AACrD,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,kDAAkD;AAClD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;AAEjC,6CAAuC;AAEvC,IAAI,CAAC,sDAAsD,EAAE,GAAG,EAAE;IAChE,MAAM,GAAG,GAAG,IAAI,sBAAS,CAAC,EAAE,CAAC,CAAC;IAE9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;QAC5B,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QAChB,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACxC,CAAC;AACH,CAAC,CAAC,CAAC;AAEH,IAAI,CAAC,qDAAqD,EAAE,GAAG,EAAE;IAC/D,MAAM,GAAG,GAAG,IAAI,sBAAS,CAAC,EAAE,CAAC,CAAC;IAE9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;QAC5B,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC;IAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;QAC5B,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QAChB,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IACrC,CAAC;AACH,CAAC,CAAC,CAAC;AAEH,IAAI,CAAC,sDAAsD,EAAE,GAAG,EAAE;IAChE,MAAM,GAAG,GAAG,IAAI,sBAAS,CAAC,EAAE,CAAC,CAAC;IAE9B,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAChB,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAChB,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAEhB,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;AACxC,CAAC,CAAC,CAAC;AAEH,IAAI,CAAC,qDAAqD,EAAE,GAAG,EAAE;IAC/D,MAAM,GAAG,GAAG,IAAI,sBAAS,CAAC,EAAE,CAAC,CAAC;IAE9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;QAC5B,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC;IAED,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;AACxC,CAAC,CAAC,CAAC","sourcesContent":["// Copyright (C) 2022 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {PerfStats} from './perf_stats';\n\ntest('buffer size is accurate before reaching max capacity', () => {\n  const buf = new PerfStats(10);\n\n  for (let i = 0; i < 10; i++) {\n    buf.addValue(i);\n    expect(buf.bufferSize).toEqual(i + 1);\n  }\n});\n\ntest('buffer size is accurate after reaching max capacity', () => {\n  const buf = new PerfStats(10);\n\n  for (let i = 0; i < 10; i++) {\n    buf.addValue(i);\n  }\n\n  for (let i = 0; i < 10; i++) {\n    buf.addValue(i);\n    expect(buf.bufferSize).toEqual(10);\n  }\n});\n\ntest('buffer mean is accurate before reaching max capacity', () => {\n  const buf = new PerfStats(10);\n\n  buf.addValue(1);\n  buf.addValue(2);\n  buf.addValue(3);\n\n  expect(buf.bufferMean).toBeCloseTo(2);\n});\n\ntest('buffer mean is accurate after reaching max capacity', () => {\n  const buf = new PerfStats(10);\n\n  for (let i = 0; i < 20; i++) {\n    buf.addValue(2);\n  }\n\n  expect(buf.bufferMean).toBeCloseTo(2);\n});\n"]}