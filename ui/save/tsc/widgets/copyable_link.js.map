{"version":3,"file":"copyable_link.js","sourceRoot":"","sources":["../../../src/widgets/copyable_link.ts"],"names":[],"mappings":";AAAA,qDAAqD;AACrD,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,kDAAkD;AAClD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;;;AAEjC,8DAAwB;AACxB,iDAAkD;AAClD,qCAAgC;AAQhC,MAAa,YAAY;IACvB,IAAI,CAAC,EAAC,KAAK,EAA8B;QACvC,MAAM,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC;QACtB,OAAO,IAAA,iBAAC,EACN,KAAK,EACL,IAAA,iBAAC,EACC,eAAM,EACN;YACE,IAAI,EAAE,GAAG;YACT,KAAK,EAAE,0CAA0C;YACjD,MAAM,EAAE,QAAQ;YAChB,IAAI,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,cAAc;YAC/C,OAAO,EAAE,CAAC,CAAQ,EAAE,EAAE;gBACpB,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,IAAA,2BAAe,EAAC,GAAG,CAAC,CAAC;YACvB,CAAC;SACF,EACD,KAAK,CAAC,IAAI,IAAI,GAAG,CAClB,CACF,CAAC;IACJ,CAAC;CACF;AArBD,oCAqBC","sourcesContent":["// Copyright (C) 2024 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport m from 'mithril';\nimport {copyToClipboard} from '../base/clipboard';\nimport {Anchor} from './anchor';\n\ninterface CopyableLinkAttrs {\n  url: string;\n  text?: string; // Will use url if omitted.\n  noicon?: boolean;\n}\n\nexport class CopyableLink implements m.ClassComponent<CopyableLinkAttrs> {\n  view({attrs}: m.CVnode<CopyableLinkAttrs>) {\n    const url = attrs.url;\n    return m(\n      'div',\n      m(\n        Anchor,\n        {\n          href: url,\n          title: 'Click to copy the URL into the clipboard',\n          target: '_blank',\n          icon: attrs.noicon ? undefined : 'content_copy',\n          onclick: (e: Event) => {\n            e.preventDefault();\n            copyToClipboard(url);\n          },\n        },\n        attrs.text ?? url,\n      ),\n    );\n  }\n}\n"]}