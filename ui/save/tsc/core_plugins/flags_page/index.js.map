{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/core_plugins/flags_page/index.ts"],"names":[],"mappings":";AAAA,qDAAqD;AACrD,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,kDAAkD;AAClD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;AAEjC,4DAAsD;AAGtD,6CAAuC;AACvC,iDAA2C;AAE3C;IACE,MAAM,CAAU,EAAE,GAAG,wBAAwB,CAAC;IAE9C,MAAM,CAAC,UAAU,CAAC,GAAQ;QACxB,aAAa;QACb,GAAG,CAAC,KAAK,CAAC,YAAY,CAAC;YACrB,KAAK,EAAE,QAAQ;YACf,IAAI,EAAE,sBAAS;YACf,SAAS,EAAE,IAAI;SAChB,CAAC,CAAC;QACH,GAAG,CAAC,OAAO,CAAC,WAAW,CAAC;YACtB,OAAO,EAAE,SAAS;YAClB,SAAS,EAAE,CAAC;YACZ,IAAI,EAAE,OAAO;YACb,IAAI,EAAE,UAAU;YAChB,IAAI,EAAE,aAAa;SACpB,CAAC,CAAC;QAEH,gBAAgB;QAChB,GAAG,CAAC,KAAK,CAAC,YAAY,CAAC;YACrB,KAAK,EAAE,UAAU;YACjB,IAAI,EAAE,0BAAW;YACjB,SAAS,EAAE,IAAI;SAChB,CAAC,CAAC;QAEH,MAAM,wBAAwB,GAAG,4BAAY,CAAC,QAAQ,CAAC;YACrD,EAAE,EAAE,sBAAsB;YAC1B,IAAI,EAAE,mBAAmB;YACzB,WAAW,EAAE,kDAAkD;YAC/D,YAAY,EAAE,KAAK;SACpB,CAAC,CAAC;QACH,IAAI,wBAAwB,CAAC,GAAG,EAAE,EAAE,CAAC;YACnC,GAAG,CAAC,OAAO,CAAC,WAAW,CAAC;gBACtB,OAAO,EAAE,SAAS;gBAClB,IAAI,EAAE,SAAS;gBACf,IAAI,EAAE,YAAY;gBAClB,IAAI,EAAE,WAAW;gBACjB,SAAS,EAAE,CAAC;aACb,CAAC,CAAC;QACL,CAAC;IACH,CAAC;;AAxCH,4BAyCC","sourcesContent":["// Copyright (C) 2023 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {featureFlags} from '../../core/feature_flags';\nimport {App} from '../../public/app';\nimport {PerfettoPlugin} from '../../public/plugin';\nimport {FlagsPage} from './flags_page';\nimport {PluginsPage} from './plugins_page';\n\nexport default class implements PerfettoPlugin {\n  static readonly id = 'dev.perfetto.FlagsPage';\n\n  static onActivate(app: App) {\n    // Flags page\n    app.pages.registerPage({\n      route: '/flags',\n      page: FlagsPage,\n      traceless: true,\n    });\n    app.sidebar.addMenuItem({\n      section: 'support',\n      sortOrder: 3,\n      text: 'Flags',\n      href: '#!/flags',\n      icon: 'emoji_flags',\n    });\n\n    // Plugins page.\n    app.pages.registerPage({\n      route: '/plugins',\n      page: PluginsPage,\n      traceless: true,\n    });\n\n    const PLUGINS_PAGE_IN_NAV_FLAG = featureFlags.register({\n      id: 'showPluginsPageInNav',\n      name: 'Show plugins page',\n      description: 'Show a link to the plugins page in the side bar.',\n      defaultValue: false,\n    });\n    if (PLUGINS_PAGE_IN_NAV_FLAG.get()) {\n      app.sidebar.addMenuItem({\n        section: 'support',\n        text: 'Plugins',\n        href: '#!/plugins',\n        icon: 'extension',\n        sortOrder: 9,\n      });\n    }\n  }\n}\n"]}