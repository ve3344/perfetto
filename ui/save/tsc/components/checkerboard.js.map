{"version":3,"file":"checkerboard.js","sourceRoot":"","sources":["../../../src/components/checkerboard.ts"],"names":[],"mappings":";AAAA,qDAAqD;AACrD,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,kDAAkD;AAClD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;AAMjC,oCAwBC;AAGD,gDAuBC;AAtDD,MAAM,YAAY,GAAG,YAAY,CAAC;AAClC,IAAI,kBAAkB,GAAG,CAAC,CAAC;AAE3B,6CAA6C;AAC7C,SAAgB,YAAY,CAC1B,GAA6B,EAC7B,QAAgB,EAChB,MAAc,EACd,OAAe;IAEf,MAAM,OAAO,GAAG,OAAO,GAAG,MAAM,CAAC;IACjC,GAAG,CAAC,IAAI,GAAG,uBAAuB,CAAC;IACnC,GAAG,CAAC,SAAS,GAAG,MAAM,CAAC;IACvB,GAAG,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;IAC3C,GAAG,CAAC,SAAS,GAAG,MAAM,CAAC;IACvB,MAAM,WAAW,GAAG,GAAG,CAAC,YAAY,CAAC;IACrC,GAAG,CAAC,YAAY,GAAG,QAAQ,CAAC;IAC5B,IAAI,kBAAkB,KAAK,CAAC,EAAE,CAAC;QAC7B,kBAAkB,GAAG,GAAG,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC;IAC3D,CAAC;IACD,IAAI,kBAAkB,IAAI,OAAO,EAAE,CAAC;QAClC,GAAG,CAAC,QAAQ,CACV,YAAY,EACZ,MAAM,GAAG,OAAO,GAAG,CAAC,GAAG,kBAAkB,GAAG,CAAC,EAC7C,QAAQ,GAAG,CAAC,CACb,CAAC;IACJ,CAAC;IACD,GAAG,CAAC,YAAY,GAAG,WAAW,CAAC;AACjC,CAAC;AAED,8EAA8E;AAC9E,SAAgB,kBAAkB,CAChC,GAA6B,EAC7B,QAAgB,EAChB,OAAe,EACf,KAAa,EACb,MAAc,EACd,OAAe;IAEf,6DAA6D;IAC7D,IAAI,OAAO,IAAI,OAAO,IAAI,MAAM,IAAI,KAAK,EAAE,CAAC;QAC1C,YAAY,CAAC,GAAG,EAAE,QAAQ,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;QAC5C,OAAO;IACT,CAAC;IAED,kCAAkC;IAClC,IAAI,MAAM,GAAG,OAAO,EAAE,CAAC;QACrB,YAAY,CAAC,GAAG,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;IAC/C,CAAC;IAED,iCAAiC;IACjC,IAAI,OAAO,GAAG,KAAK,EAAE,CAAC;QACpB,YAAY,CAAC,GAAG,EAAE,QAAQ,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;IAC9C,CAAC;AACH,CAAC","sourcesContent":["// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nconst LOADING_TEXT = 'Loading...';\nlet LOADING_TEXT_WIDTH = 0;\n\n// Checker board the range [leftPx, rightPx].\nexport function checkerboard(\n  ctx: CanvasRenderingContext2D,\n  heightPx: number,\n  leftPx: number,\n  rightPx: number,\n): void {\n  const widthPx = rightPx - leftPx;\n  ctx.font = '12px Roboto Condensed';\n  ctx.fillStyle = '#eee';\n  ctx.fillRect(leftPx, 0, widthPx, heightPx);\n  ctx.fillStyle = '#666';\n  const oldBaseline = ctx.textBaseline;\n  ctx.textBaseline = 'middle';\n  if (LOADING_TEXT_WIDTH === 0) {\n    LOADING_TEXT_WIDTH = ctx.measureText(LOADING_TEXT).width;\n  }\n  if (LOADING_TEXT_WIDTH <= widthPx) {\n    ctx.fillText(\n      LOADING_TEXT,\n      leftPx + widthPx / 2 - LOADING_TEXT_WIDTH / 2,\n      heightPx / 2,\n    );\n  }\n  ctx.textBaseline = oldBaseline;\n}\n\n// Checker board everything between [startPx, endPx] except [leftPx, rightPx].\nexport function checkerboardExcept(\n  ctx: CanvasRenderingContext2D,\n  heightPx: number,\n  startPx: number,\n  endPx: number,\n  leftPx: number,\n  rightPx: number,\n): void {\n  // [leftPx, rightPx] doesn't overlap [startPx, endPx] at all:\n  if (rightPx <= startPx || leftPx >= endPx) {\n    checkerboard(ctx, heightPx, startPx, endPx);\n    return;\n  }\n\n  // Checkerboard [startPx, leftPx]:\n  if (leftPx > startPx) {\n    checkerboard(ctx, heightPx, startPx, leftPx);\n  }\n\n  // Checkerboard [rightPx, endPx]:\n  if (rightPx < endPx) {\n    checkerboard(ctx, heightPx, rightPx, endPx);\n  }\n}\n"]}